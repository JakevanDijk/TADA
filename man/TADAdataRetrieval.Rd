% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataDiscoveryRetrieval.R
\name{TADAdataRetrieval}
\alias{TADAdataRetrieval}
\title{Generate TADA-compatible dataframe from WQP Data}
\usage{
TADAdataRetrieval(
  statecode = "null",
  startDate = "null",
  countycode = "null",
  siteid = "null",
  siteType = "null",
  characteristicName = "null",
  ActivityMediaName = "null",
  ProjectIdentifier = "null",
  OrganizationIdentifier = "null",
  endDate = "null"
)
}
\arguments{
\item{statecode}{Code that identifies a state}

\item{startDate}{Start Date in the format YYYY-MM-DD}

\item{countycode}{Code that identifies a county}

\item{siteid}{Unique monitoring station identifier}

\item{siteType}{Type of waterbody}

\item{characteristicName}{Name of parameter}

\item{ActivityMediaName}{Sampling substrate such as water, air, or sediment}

\item{ProjectIdentifier}{A string of letters and/or numbers (some additional characters also possible) used to signify a project with data in the Water Quality Portal}

\item{OrganizationIdentifier}{A string of letters and/or numbers (some additional characters also possible) used to signify an organization with data in the Water Quality Portal}

\item{endDate}{End Date in the format YYYY-MM-DD}
}
\value{
TADA-compatible dataframe
}
\description{
Retrieve data from Water Quality Portal (WQP) and generate a TADA-compatible
dataframe.
}
\details{
This function will create and/or edit the following columns:
TADA.DetectionLimitMeasureValue.Flag
DetectionQuantitationLimitMeasure.MeasureValue
DetectionLimitMeasureValue.Original
ResultMeasureValue.Original
TADA.ResultMeasureValue.Flag
ResultMeasureValue

Keep in mind that all the query filters for the WQP work as an AND
but within the fields there are ORs. So for example,
characteristics – if you choose pH & DO – it’s an OR. Similarly, if you
choose VA and IL, it’s an OR. But the combo of fields are ANDs.
Such as State/VA AND Characteristic/DO".
"Characteristic" and "Characteristic Group" also work as an AND.

All data cleaning and transformations are done directly to the
"ResultMeasureValue" and "DetectionLimitMeasureValue" columns,
however the original "ResultMeasureValue" and "DetectionLimitMeasureValue"
columns and values from the WQP are preserved in these new fields,
"ResultMeasureValue.Original" and "DetectionLimitMeasureValue.Original".
Additionally, "TADA.ResultMeasureValue.Flag" and
"TADA.DetectionLimitMeasureValue.Flag" are created to track and changes made
to the "ResultMeasureValue" and "DetectionLimitMeasureValue" columns;
and to provide information about the result values that is needed to address
censored data later on (i.e., nondetections)

Users can reference the \href{https://www.epa.gov/waterdata/storage-and-retrieval-and-water-quality-exchange-domain-services-and-downloads}{WQX domain tables}
to find allowable vales for queries, e.g.,
\href{https://cdx.epa.gov/wqx/download/DomainValues/County_CSV.zip}{countycode and statecode}

See ?MeasureValueSpecialCharacters and ?autoclean documentation for more information.
}
\examples{
\dontrun{

tada1 <- TADAdataRetrieval(statecode = "WI",
countycode = "Dane",
characteristicName = "Phosphorus")

tada2 <- TADAdataRetrieval(ProjectIdentifier = "Anchorage Bacteria 20-21")

tada3 <- TADAdataRetrieval(statecode = "UT", 
                           characteristicName = c("Ammonia", "Nitrate", "Nitrogen"), 
                           startDate = "10-01-2020")

# Users can reference the WQX domain table to find countycode and statecode
# https://cdx.epa.gov/wqx/download/DomainValues/County_CSV.zip
test4 <- TADAdataRetrieval(statecode = "SC", countycode  = "Abbeville")

# countycode queries require a statecode
tada5 <- TADAdataRetrieval(countycode = "US:02:020")

}

}
