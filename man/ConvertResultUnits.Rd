% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Transformations.R
\name{ConvertResultUnits}
\alias{ConvertResultUnits}
\title{Transform Units to WQX Target Units}
\usage{
ConvertResultUnits(.data, transform = TRUE)
}
\arguments{
\item{.data}{TADA dataframe}

\item{transform}{Boolean argument with two possible values, “TRUE” and “FALSE”.
Default is transform = TRUE.}
}
\value{
When transform=TRUE, result values and units are converted to WQX target units.
This function changes the values within the "ResultMeasure.MeasureUnitCode"
and "DetectionQuantitationLimitMeasure.MeasureUnitCode" to the WQX target units and
converts respective values within the "ResultMeasureValue" and "DetectionQuantitationLimitMeasure.MeasureValue"
fields. In addition to "WQX.ResultMeasureValue.UnitConversion"
and "WQX.DetectionLimitMeasureValue.UnitConversion", transform=TRUE will add
the following two fields to the input dataframe, "ResultMeasureUnitCode.Original",
and "DetectionLimitMeasureUnitCode.Original", to retain the original result
and unit values.

When transform = FALSE, result values and units are NOT converted to WQX target units,
but columns are appended to indicate what the target units and conversion factors are,
and if the data can be converted. In addition to "WQX.ResultMeasureValue.UnitConversion"
and "WQX.DetectionLimitMeasureValue.UnitConversion",  transform=FALSE will add the
following two fields to the input dataframe: "WQX.ConversionFactor" and "WQX.TargetUnit".
}
\description{
This function compares measure units in the input data to the Water Quality
Exchange (WQX) 3.0 QAQC Characteristic Validation table.
}
\details{
This function will ALWAYS add the following two columns to the input dataframe:
\enumerate{
\item "WQX.ResultMeasureValue.UnitConversion",
\item "WQX.DetectionLimitMeasureValue.UnitConversion"
These two fields indicate if data can be converted."NoResultValue" means data
cannot be converted because there is no ResultMeasureValue, and "NoTargetUnit"
means data cannot be converted because the original unit is not associated with a target unit in WQX.
"Convert" means the data can be transformed, and "Converted" means that this function
has been run with the input transform = TRUE, and the values were already converted.
}

It also uses the following six fields from the input dataframe:
\enumerate{
\item "CharacteristicName",
\item "ActivityMediaName",
\item "ResultMeasureValue",
\item "ResultMeasure.MeasureUnitCode",
\item "DetectionQuantitationLimitMeasure.MeasureValue",
\item "DetectionQuantitationLimitMeasure.MeasureUnitCode"
}

This function adds the following two fields and transforms values within the
following four fields ONLY when transform=TRUE:
Adds: "ResultMeasureUnitCode.Original", and "DetectionLimitMeasureUnitCode.Original".
Transforms: "ResultMeasureValue", "ResultMeasure.MeasureUnitCode", "DetectionQuantitationLimitMeasure.MeasureValue", and "DetectionQuantitationLimitMeasure.MeasureUnitCode".

This function adds the following two fields ONLY when transform=FALSE:
Adds: "WQX.ConversionFactor" and "WQX.TargetUnit".
}
\examples{
# Load example dataset:
data(Nutrients_Utah)

# Convert result and detection limit values and units to WQX target units and 
# add two new columns titled "ResultMeasureUnitCode.Original" and 
# "DetectionLimitMeasureUnitCode.Original" to retain the original result and unit values:
ResultUnitsConverted <- ConvertResultUnits(Nutrients_Utah)

# Do not convert result values and units, but add two new columns titled
# "WQX.ConversionFactor" and "WQX.TargetUnit":
ResultUnitsNotConverted <- ConvertResultUnits(Nutrients_Utah, transform = FALSE)

}
